"use strict";var x=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var W=Object.prototype.hasOwnProperty;var j=(r,e)=>{for(var t in e)x(r,t,{get:e[t],enumerable:!0})},z=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of F(e))!W.call(r,s)&&s!==t&&x(r,s,{get:()=>e[s],enumerable:!(n=U(e,s))||n.enumerable});return r};var C=r=>z(x({},"__esModule",{value:!0}),r);var H={};j(H,{Mnemonic:()=>v});module.exports=C(H);var K=require("@ethersproject/basex"),i=require("@ethersproject/bytes"),S=require("@ethersproject/pbkdf2"),h=require("@ethersproject/sha2"),k=require("@fuel-ts/keystore"),y=require("@fuel-ts/wordlists");var u=require("@ethersproject/bytes"),A=require("@ethersproject/sha2");function g(r){let e=r.normalize("NFKD"),t=[];for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)===55296){n+=1;let o=e.charCodeAt(n);if(n>=e.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");let a=65536+((s&1023)<<10)+(o&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return(0,u.arrayify)(t)}function D(r){return(1<<r)-1}function b(r){return(1<<r)-1<<8-r}function d(r){return Array.isArray(r)?r:r.split(/\s+/)}function T(r){return Array.isArray(r)?r.join(" "):r}function P(r){let e=[0],t=11;for(let o=0;o<r.length;o+=1)t>8?(e[e.length-1]<<=8,e[e.length-1]|=r[o],t-=8):(e[e.length-1]<<=t,e[e.length-1]|=r[o]>>8-t,e.push(r[o]&D(8-t)),t+=3);let n=r.length/4,s=(0,u.arrayify)((0,A.sha256)(r))[0]&b(n);return e[e.length-1]<<=n,e[e.length-1]|=s>>8-n,e}function E(r,e){let t=Math.ceil(11*r.length/8),n=(0,u.arrayify)(new Uint8Array(t)),s=0;for(let m=0;m<r.length;m+=1){let l=e.indexOf(r[m].normalize("NFKD"));if(l===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f+=1)l&1<<10-f&&(n[s>>3]|=1<<7-s%8),s+=1}let o=32*r.length/3,a=r.length/3,p=b(a);if(((0,u.arrayify)((0,A.sha256)(n.slice(0,o/8)))[0]&p)!==(n[n.length-1]&p))throw new Error("invalid checksum");return n.slice(0,o/8)}var I=g("Bitcoin seed"),V=76066276,N=70615956;function L(r){if(r.length!==2048)throw new Error("Invalid word list length")}function R(r){if(r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy")}function w(r){if(![12,15,18,21,24].includes(r.length))throw new Error("invalid mnemonic size")}var c=class{constructor(e=y.english){this.wordlist=e,L(this.wordlist)}mnemonicToEntropy(e){return c.mnemonicToEntropy(e,this.wordlist)}entropyToMnemonic(e){return c.entropyToMnemonic(e,this.wordlist)}static mnemonicToEntropy(e,t=y.english){let n=d(e);return w(n),(0,i.hexlify)(E(n,t))}static entropyToMnemonic(e,t=y.english){let n=(0,i.arrayify)(e,{allowMissingPrefix:!0});return L(t),R(n),P(n).map(s=>t[s]).join(" ")}static mnemonicToSeed(e,t=""){w(d(e));let n=g(T(e)),s=g(`mnemonic${t}`);return(0,S.pbkdf2)(n,s,2048,64,"sha512")}static mnemonicToMasterKeys(e,t=""){let n=c.mnemonicToSeed(e,t);return c.masterKeysFromSeed(n)}static isMnemonicValid(e){let t=d(e),n=0;for(w(t);n<t.length;){if(c.binarySearch(t[n])===!1)return!1;n+=1}return!0}static binarySearch(e){let t=y.english,n=0,s=t.length-1;for(;n<=s;){let o=Math.floor((n+s)/2);if(t[o]===e)return!0;e<t[o]?s=o-1:n=o+1}return!1}static masterKeysFromSeed(e){let t=(0,i.arrayify)(e);if(t.length<16||t.length>64)throw new Error("invalid seed");return(0,i.arrayify)((0,h.computeHmac)(h.SupportedAlgorithm.sha512,I,t))}static seedToExtendedKey(e,t=!1){let n=c.masterKeysFromSeed(e),s=(0,i.arrayify)(t?N:V),o="0x00",a="0x00000000",p="0x00000000",B=n.slice(32),m=n.slice(0,32),l=(0,i.concat)([s,o,a,p,B,(0,i.concat)(["0x00",m])]),f=(0,i.hexDataSlice)((0,h.sha256)((0,h.sha256)(l)),0,4);return K.Base58.encode((0,i.concat)([l,f]))}static generate(e=32,t=""){let n=t?(0,h.sha256)((0,i.concat)([(0,k.randomBytes)(e),(0,i.arrayify)(t)])):(0,k.randomBytes)(e);return c.entropyToMnemonic(n)}},v=c;0&&(module.exports={Mnemonic});
//# sourceMappingURL=index.js.map