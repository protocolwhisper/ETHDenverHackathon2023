var q=["Success","Revert","OutOfGas","TransactionValidity","MemoryOverflow","ArithmeticOverflow","ContractNotFound","MemoryOwnership","NotEnoughBalance","ExpectedInternalContext","AssetIdNotFound","InputNotFound","OutputNotFound","WitnessNotFound","TransactionMaturity","InvalidMetadataIdentifier","MalformedCallStructure","ReservedRegisterNotWritable","ErrorFlag","InvalidImmediateValue","ExpectedCoinInput","MaxMemoryAccess","MemoryWriteOverlap","ContractNotInInputs","InternalBalanceOverflow","ContractMaxSize","ExpectedUnallocatedStack","MaxStaticContractsReached","TransferAmountCannotBeZero","ExpectedOutputVariable","ExpectedParentInternalContext","IllegalJump","NonZeroMessageOutputRecipient","ZeroedMessageOutputRecipient"],I="https://docs.rs/fuel-asm/latest/fuel_asm/enum.PanicReason.html";var K=a=>q.includes(a)?a:"unknown",N=a=>{if((a==null?void 0:a.type)==="failure"){let t=K(a.reason);return{doc:t!=="unknown"?`${I}#variant.${t}`:I,reason:t}}return{doc:I,reason:"unknown"}};function h(a,t){if(!a)throw new Error(t)}import{ZeroBytes32 as t0}from"@fuel-ts/constants";import{ReceiptType as E}from"@fuel-ts/transactions";var M=(a,t)=>typeof t=="bigint"?t.toString():t,e0=(a,t)=>`${a===t0?"script":a}: ${t}`,w=class extends Error{constructor(e,n,r){let o=JSON.stringify(N(e.status),null,2),i=e.receipts.filter(u=>u.type===E.Revert),s=i.length?`Reverts:
${i.map(({id:u,...m})=>e0(u,`${m.val} ${JSON.stringify(m,M)}`)).join(`
`)}`:null,p=r.length?`Logs:
${JSON.stringify(r,null,2)}`:null,c=`Receipts:
${JSON.stringify(e.receipts.map(({type:u,...m})=>({type:E[u],...m})),M,2)}`;super(`${n}

${o}

${s?`${s}

`:""}${p?`${p}

`:""}${c}`);this.logs=r}};import{coinQuantityfy as A0}from"@fuel-ts/providers";import{bn as C,toNumber as j}from"@fuel-ts/math";import{transactionRequestify as X,ScriptTransactionRequest as g0}from"@fuel-ts/providers";import{MAX_GAS_PER_TX as R0,InputType as C0}from"@fuel-ts/transactions";import{arrayify as Q,concat as W}from"@ethersproject/bytes";import{AbiCoder as J,U64Coder as k}from"@fuel-ts/abi-coder";import{bn as Z,toNumber as x}from"@fuel-ts/math";import{ReceiptType as l0}from"@fuel-ts/transactions";var P=[{type:"function",inputs:[{name:"script_data",type:"struct ScriptData",components:[{name:"calls",type:"[enum Option; 5]",components:[{name:"__array_element",type:"enum Option",components:[{name:"None",type:"()",components:[],typeArguments:null},{name:"Some",type:"struct MulticallCall",components:[{name:"contract_id",type:"struct ContractId",components:[{name:"value",type:"b256",components:null,typeArguments:null}],typeArguments:null},{name:"fn_selector",type:"u64",components:null,typeArguments:null},{name:"fn_arg",type:"enum CallValue",components:[{name:"Value",type:"u64",components:null,typeArguments:null},{name:"Data",type:"(u64, u64)",components:[{name:"__tuple_element",type:"u64",components:null,typeArguments:null},{name:"__tuple_element",type:"u64",components:null,typeArguments:null}],typeArguments:null}],typeArguments:null},{name:"parameters",type:"struct CallParameters",components:[{name:"amount",type:"enum Option",components:[{name:"None",type:"()",components:[],typeArguments:null},{name:"Some",type:"u64",components:null,typeArguments:null}],typeArguments:[{name:"T",type:"u64",components:null,typeArguments:null}]},{name:"asset_id",type:"enum Option",components:[{name:"None",type:"()",components:[],typeArguments:null},{name:"Some",type:"struct ContractId",components:[{name:"value",type:"b256",components:null,typeArguments:null}],typeArguments:null}],typeArguments:[{name:"T",type:"struct ContractId",components:[{name:"value",type:"b256",components:null,typeArguments:null}],typeArguments:null}]},{name:"gas",type:"enum Option",components:[{name:"None",type:"()",components:[],typeArguments:null},{name:"Some",type:"u64",components:null,typeArguments:null}],typeArguments:[{name:"T",type:"u64",components:null,typeArguments:null}]}],typeArguments:null}],typeArguments:null}],typeArguments:[{name:"T",type:"struct MulticallCall",components:[{name:"contract_id",type:"struct ContractId",components:[{name:"value",type:"b256",components:null,typeArguments:null}],typeArguments:null},{name:"fn_selector",type:"u64",components:null,typeArguments:null},{name:"fn_arg",type:"enum CallValue",components:[{name:"Value",type:"u64",components:null,typeArguments:null},{name:"Data",type:"(u64, u64)",components:[{name:"__tuple_element",type:"u64",components:null,typeArguments:null},{name:"__tuple_element",type:"u64",components:null,typeArguments:null}],typeArguments:null}],typeArguments:null},{name:"parameters",type:"struct CallParameters",components:[{name:"amount",type:"enum Option",components:[{name:"None",type:"()",components:[],typeArguments:null},{name:"Some",type:"u64",components:null,typeArguments:null}],typeArguments:[{name:"T",type:"u64",components:null,typeArguments:null}]},{name:"asset_id",type:"enum Option",components:[{name:"None",type:"()",components:[],typeArguments:null},{name:"Some",type:"struct ContractId",components:[{name:"value",type:"b256",components:null,typeArguments:null}],typeArguments:null}],typeArguments:[{name:"T",type:"struct ContractId",components:[{name:"value",type:"b256",components:null,typeArguments:null}],typeArguments:null}]},{name:"gas",type:"enum Option",components:[{name:"None",type:"()",components:[],typeArguments:null},{name:"Some",type:"u64",components:null,typeArguments:null}],typeArguments:[{name:"T",type:"u64",components:null,typeArguments:null}]}],typeArguments:null}],typeArguments:null}]}],typeArguments:null}],typeArguments:null}],name:"main",outputs:[{name:"",type:"struct ScriptReturn",components:[{name:"call_returns",type:"[enum Option; 5]",components:[{name:"__array_element",type:"enum Option",components:[{name:"None",type:"()",components:[],typeArguments:null},{name:"Some",type:"enum CallValue",components:[{name:"Value",type:"u64",components:null,typeArguments:null},{name:"Data",type:"(u64, u64)",components:[{name:"__tuple_element",type:"u64",components:null,typeArguments:null},{name:"__tuple_element",type:"u64",components:null,typeArguments:null}],typeArguments:null}],typeArguments:null}],typeArguments:[{name:"T",type:"enum CallValue",components:[{name:"Value",type:"u64",components:null,typeArguments:null},{name:"Data",type:"(u64, u64)",components:[{name:"__tuple_element",type:"u64",components:null,typeArguments:null},{name:"__tuple_element",type:"u64",components:null,typeArguments:null}],typeArguments:null}],typeArguments:null}]}],typeArguments:null}],typeArguments:null}]}];var B="0x90000004470000000000000000000cd45dfcc00110fff3001a5c5000910005b861440006724002d0164114005b40100d360000006158000c61440001504175305f5d10a6504175305d4570a6504171385f5d1027504171385d417027134100007340001a9000001f1a445000910000085d43f0005f4500009000002b504171385d4170271341004073400024900000291a445000910000085d43f0015f4500009000002b360000001a44000050417528504175286041100850457528504170085041700860411008504170085d4100001341000073400037900000396144000c9000003b360000001a440000504174305f5d1086504174305d4570865d43f00210450440504174485f5d108961440001504175405f5d10a8504175405d4570a8504171405f5d1028504171405d417028134100007340004f900000541a445000910000085d43f0005f45000090000060504171405d41702813410040734000599000005e1a445000910000085d43f0015f45000090000060360000001a44000050417538504175386041100850457538504170005041700060411008504170005d410000134100007340006c9000006e6144000690000078504170005d410000134100407340007390000076360000001a44000090000078360000001a4400005d43f00220451400504173805f5d1070504174485d497089504173805d4170701a445000910000105f4520005f450001504175a8504175a8604110105d47f00326440000504470015041726050417260604110a026000000504070011a445000910000105f4500005f440001504174785041747860411010504173505f5c006a5d47f0025d43f00412451400504173005f5d1060504173505d45706a504173005d41706016411400734000a4900000b150496000504173505d41706a5545009010452440504170785041707860411090504170785d41000013410040734001249000031f504972601a445000910000a050411000604120a05041748850417488604110a026000000504070011a445000910000105f4500005f44000150417198504171986041101050517198505574885d454001504174085f5d10815d4540015d43f00310450440504173c85f5d10795d4140005d4d4001504573c85d457079154914c0734800d3900000e12644000050487001504573a85f5d207515453000734400da900000de504573a85d457075284504c0900000de504173a85d417075900000e15f510000504173c85d4170795f5100015d454000504174085d417081104504405d43f0032845540050557198505174785d41400113410000734000f1900000f35d4150019000011c5d455001504174105f5d10825d4550015d41400110450440504173d05f5d107a5d4150005d4d5001504573d05d45707a154914c073480102900001102644000050487001504573b05f5d207615453000734401099000010d504573b05d457076284504c09000010d504173b05d417076900001105f550000504173d05d41707a5f5500015d4940005d455000504174105d417082104504405d414001284524005d417082504171985d450000504171985d41000125450000504574885d43f003254500005041707850450008504171a8504171a860411088504171a850450028504171085041710860411018504171085d41000013410000734001339000013f504171085d450002504175485f5d10a9504175485d4970a91a445000910000185d43f0005f4500005f4520029000017b504171085d41000013410040734001449000016050417108504100085d450000504173e85f5d107d50417108504100085d450001504173785f5d106f504175a85d450000504173e85d41707d10450440504173785d41706f1a485000910000105f4910005f4900011a445000910000185d43f0015f45000050411008604120109000017b50417108504100085d450000504173f05f5d107e50417108504100085d450001504173905f5d1072504175a85d450000504173f05d41707e10450440504173905d4170721a485000910000105f4910005f4900011a445000910000185d43f0015f4500005041100860412010504173085041730860411018504171a850550000504171a85d51000450457308504171a8504d0040504170105041701060411018504170105d410000134100007340018d90000194504170105d450002504175505f5d10aa504175505d4570aa900001a8504170105d4100001341004073400199900001a150417010504100085d450000504174385f5d1087504174385d457087900001a850417010504100085d450000504174505f5d108a504174505d45708a504173205f5d1064504173205d4970641a4450009100003050411000604150205f4540045f45200550417230504172306041103050453000504170285041702860411010504170285d41000013410040734001be900001c5504170285d450001504171485f5d1029504171485d457029900001cd504170285d41000013410000734001ca900001cc1a440000900001cd1a440000504171505f5d102a50453010504170385041703860411028504170385d41000013410040734001d8900001df504170385045000850417358504173586041102050497358900001f1504170385d41000013410000734001e4900001eb1a485000910000205d47f00a104513005041200060411020900001f11a485000910000205d47f00a10451300504120006041102050417158504171586041202050453038504170605041706060411010504170605d41000013410040734001fd90000204504170605d450001504173405f5d1068504173405d4570689000020c504170605d41000013410000734002099000020b1a44a0009000020c1a44a000504173485f5d1069504d7230504171505d49702a50457158504173485d4170692d4d24501a44e000504170705f5d100e504170705d41700e134100007340021d900002281a44d000504175785f5d10af504175785d4570af1a485000910000185d43f0005f4900005f4910029000023d504170705d45700e504173885f5d10711a44d000504174585f5d108b504174585d49708b504173885d4170711a445000910000105f4520005f4500011a485000910000185d43f0015f490000504120086041101050417460504174606041201850457460504171205041712060411018504171205d410000134100007340024990000255504171205d450002504175a05f5d10b4504175a05d4970b41a445000910000185d43f0005f4500005f45200290000309504171205d410000134100407340025a900002b250417120504100085d450000504174285f5d108550417120504100085d450001504173985f5d1073504174285d497085504173985d4170731a445000910000105f4520005f45000150417178504171786041101050557478505171785d4140011341000073400275900002775d455001900002a15d455001504174185f5d10835d4550015d41400110450440504173d85f5d107b5d4150005d4d5001504573d85d45707b154914c073480286900002942644000050487001504573b85f5d2077154530007344028d90000291504573b85d457077284504c090000291504173b85d417077900002945f550000504173d85d41707b5f5500015d4940005d455000504174185d417083104504405d41400128452400504174185d457083504173f85f5d107f504173f85d45707f504173985d4170731a485000910000105f4910005f4900011a445000910000185d43f0015f45000050411008604120109000030950417120504100085d450000504174405f5d108850417120504100085d450001504173a05f5d1074504174405d497088504173a05d4170741a445000910000105f4520005f45000150417188504171886041101050557478505171885d41400113410000734002cd900002cf5d455001900002f95d455001504174205f5d10845d4550015d41400110450440504173e05f5d107c5d4150005d4d5001504573e05d45707c154914c0734802de900002ec2644000050487001504573c05f5d207815453000734402e5900002e9504573c05d457078284504c0900002e9504173c05d417078900002ec5f550000504173e05d41707c5f5500015d4940005d455000504174205d417084104504405d41400128452400504174205d457084504174005f5d1080504174005d457080504173a05d4170741a485000910000105f4910005f4900011a445000910000185d43f0015f4500005041100860412010504173285041732860411018504973281a445000910000205d43f0015f450000504110086041201850417558504175586041102050457260504173505d41706a5549002010491480504575585d43f009284914009000032e504175801a445000910000205d43f0005f450000504175806041102050457260504173505d41706a5549002010491480504575805d43f0092849140050417350504173505d41706a104014005f5d006a9000009d470000000000000000000000000000000000000100000000000002d000000000000000a00000000000000090000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000cfc";import{arrayify as r0}from"@ethersproject/bytes";import{Logger as F}from"@ethersproject/logger";import{VM_TX_MEMORY as a0,TRANSACTION_SCRIPT_FIXED_SIZE as o0,ASSET_ID_LEN as s0,WORD_SIZE as D,CONTRACT_ID_LEN as i0}from"@fuel-ts/abi-coder";import{ReceiptType as f,ByteArrayCoder as c0}from"@fuel-ts/transactions";import{versions as u0}from"@fuel-ts/versions";var $=new F(u0.FUELS);function p0(a){let t=[...a.receipts],e=t.pop();if(!e)throw new Error("Expected scriptResultReceipt");if(e.type!==f.ScriptResult)throw new Error(`Invalid scriptResultReceipt type: ${e.type}`);let n=t.pop();if(!n)throw new Error("Expected returnReceipt");if(n.type!==f.Return&&n.type!==f.ReturnData&&n.type!==f.Revert)throw new Error(`Invalid returnReceipt type: ${n.type}`);return{code:e.result,gasUsed:e.gasUsed,receipts:t,scriptResultReceipt:e,returnReceipt:n,callResult:a}}function V(a,t,e=[]){try{let n=p0(a);return t(n)}catch(n){throw new w(a,n.message,e)}}function U(a,t,e){return V(a,n=>{n.returnReceipt.type===f.Revert&&$.throwError("Script Reverted",F.errors.CALL_EXCEPTION,e),n.returnReceipt.type!==f.Return&&n.returnReceipt.type!==f.ReturnData&&$.throwError(`Script Return Type [${n.returnReceipt.type}] Invalid`,F.errors.CALL_EXCEPTION,{logs:e,receipt:n.returnReceipt});let r;return n.returnReceipt.type===f.Return&&(r=n.returnReceipt.val),n.returnReceipt.type===f.ReturnData&&(r=t.program.interface.decodeFunctionResult(t.func,n.returnReceipt.data)[0]),r},e)}var A=class{constructor(t,e,n){this.bytes=r0(t),this.scriptDataEncoder=e,this.scriptResultDecoder=n}getScriptDataOffset(){return a0+o0+new c0(this.bytes.length).encodedLength}getArgOffset(){return this.getScriptDataOffset()+s0+D+i0+D+D}encodeScriptData(t){return this.scriptDataEncoder(t)}decodeCallResult(t,e=[]){return V(t,this.scriptResultDecoder,e)}};var T=new A(B,a=>{let t=P[0].inputs,e=new J().getCoder(t[0]),n=e.coders.calls.length;if(a.length>n)throw new Error(`At most ${n} calls are supported`);let r=new Uint8Array,o=[];for(let p=0;p<n;p+=1){let c=a[p],u;if(c){let m=Q(c.data),z=m.slice(0,8),Y=m.slice(8,16).some(H=>H===1),O=m.slice(16),L;Y?(L={Data:[r.length,O.length]},r=W([r,O])):L={Value:new k().decode(O,0)[0]},u={contract_id:{value:c.contractId},fn_selector:new k().decode(z,0)[0],fn_arg:L,parameters:{amount:c.amount?Z(c.amount):void 0,asset_id:c.assetId?{value:c.assetId}:void 0,gas:c.gas?Z(c.gas):void 0}}}else u=void 0;o.push(u)}let i={calls:o},s=e.encode(i);return W([s,r])},a=>{if(x(a.code)!==0)throw new Error(`Script returned non-zero result: ${a.code}`);if(a.returnReceipt.type!==l0.ReturnData)throw new Error("Expected returnReceipt to be a ReturnDataReceipt");let t=Q(a.returnReceipt.data),e=P[0].outputs,n=new J().getCoder(e[0]),[r,o]=n.decode(t,0),i=t.slice(o),s=[];return r.call_returns.forEach((p,c)=>{if(p)if(p.Data){let[u,m]=p.Data;s[c]=i.slice(x(u),x(u)+x(m))}else s[c]=new k().encode(p.Value)}),s});import{bn as d0}from"@fuel-ts/math";import{getDecodedLogs as m0}from"@fuel-ts/providers";import{ReceiptType as f0}from"@fuel-ts/transactions";function y0(a){let t=a.receipts.find(e=>e.type===f0.ScriptResult);return(t==null?void 0:t.gasUsed)||d0(0)}var b=class{constructor(t,e,n){this.functionScopes=Array.isArray(t)?t:[t],this.isMultiCall=n,this.value=this.getDecodedValue(e),this.gasUsed=y0(e)}getFirstCallConfig(){if(!!this.functionScopes[0])return this.functionScopes[0].getCallConfig()}getDecodedValue(t){let e=this.getDecodedLogs(t.receipts),n=this.getFirstCallConfig();if(this.functionScopes.length===1&&n&&"bytes"in n.program)return U(t,n,e);let o=T.decodeCallResult(t,e).map((i,s)=>{var u;let{program:p,func:c}=this.functionScopes[s].getCallConfig();return(u=p.interface.decodeFunctionResult(c,i))==null?void 0:u[0]});return this.isMultiCall?o:o==null?void 0:o[0]}getDecodedLogs(t){let e=this.getFirstCallConfig();if(!e)return[];let{program:n}=e;return m0(t,n.interface)}},g=class extends b{constructor(e,n,r,o,i){super(e,r,i);this.transactionResponse=n,this.transactionResult=r,this.transactionId=this.transactionResponse.id,this.program=o,this.logs=this.getDecodedLogs(r.receipts)}static async build(e,n,r,o){let i=await n.waitForResult();return new g(e,n,i,o,r)}},R=class extends b{constructor(e,n,r){super(e,n,r);this.callResult=n}static async build(e,n,r){return new R(e,n,r)}};function h0(a){let{program:t,args:e,forward:n,func:r,callParameters:o,bytesOffset:i}=a.getCallConfig(),s=t.interface.encodeFunctionData(r,e,T.getScriptDataOffset()+i);return{contractId:t.id,data:s,assetId:n==null?void 0:n.assetId,amount:n==null?void 0:n.amount,gas:o==null?void 0:o.gasLimit}}var y=class{constructor(t,e){this.functionInvocationScopes=[];this.requiredCoins=[];this.isMultiCall=!1;this.program=t,this.isMultiCall=e,this.transactionRequest=new g0({gasLimit:R0})}get calls(){return this.functionInvocationScopes.map(t=>h0(t))}static getCallOptions(t){return{fundTransaction:!0,...t}}updateScriptRequest(){let t=this.calls;t.forEach(e=>{this.transactionRequest.addContract(e.contractId)}),this.transactionRequest.setScript(T,t)}getRequiredCoins(){return this.calls.map(e=>({assetId:String(e.assetId),amount:C(e.amount||0)})).concat(this.transactionRequest.calculateFee()).filter(({assetId:e,amount:n})=>e&&!C(n).isZero())}updateRequiredCoins(){let t=this.getRequiredCoins(),e=(n,{assetId:r,amount:o})=>{var s;let i=((s=n.get(r))==null?void 0:s.amount)||C(0);return n.set(r,{assetId:String(r),amount:i.add(o)})};this.requiredCoins=Array.from(t.reduce(e,new Map).values())}addCall(t){return this.addCalls([t]),this}addCalls(t){return this.functionInvocationScopes.push(...t),this.updateScriptRequest(),this.updateRequiredCoins(),this}async prepareTransaction(t){this.updateScriptRequest(),this.updateRequiredCoins(),this.checkGasLimitTotal(),y.getCallOptions(t).fundTransaction&&this.program.account&&await this.fundWithRequiredCoins()}checkGasLimitTotal(){if(this.calls.reduce((e,n)=>e.add(n.gas||0),C(0)).gt(this.transactionRequest.gasLimit))throw new Error("Transaction gasLimit can't be lower than the sum of the forwarded gas of each call")}async getTransactionCost(t){var o;let e=((o=this.program.account)==null?void 0:o.provider)||this.program.provider;h(e,"Wallet or Provider is required!"),await this.prepareTransaction(t);let n=X(this.transactionRequest);return n.gasPrice=C(j(n.gasPrice)||j((t==null?void 0:t.gasPrice)||0)),await e.getTransactionCost(n,t==null?void 0:t.tolerance)}async fundWithRequiredCoins(){var e;this.transactionRequest.inputs=this.transactionRequest.inputs.filter(n=>n.type!==C0.Coin);let t=await((e=this.program.account)==null?void 0:e.getResourcesToSpend(this.requiredCoins));return this.transactionRequest.addResources(t||[]),this}txParams(t){var n;this.txParameters=t;let e=this.transactionRequest;return e.gasLimit=C(t.gasLimit||e.gasLimit),e.gasPrice=C(t.gasPrice||e.gasPrice),e.addVariableOutputs(((n=this.txParameters)==null?void 0:n.variableOutputs)||0),this}addContracts(t){return t.forEach(e=>{this.transactionRequest.addContract(e.id),this.program.interface.updateExternalLoggedTypes(e.id.toB256(),[...e.interface.loggedTypes])}),this}async getTransactionRequest(t){return await this.prepareTransaction(t),this.transactionRequest}async call(t){h(this.program.account,"Wallet is required!");let e=await this.getTransactionRequest(t),n=await this.program.account.sendTransaction(e);return g.build(this.functionInvocationScopes,n,this.isMultiCall,this.program)}async simulate(t){h(this.program.account,"Wallet is required!");let e=await this.getTransactionRequest(t),n=await this.program.account.simulateTransaction(e);return R.build(this.functionInvocationScopes,n,this.isMultiCall)}async dryRun(t){var s;let e=((s=this.program.account)==null?void 0:s.provider)||this.program.provider;h(e,"Wallet or Provider is required!");let n=await this.getTransactionRequest(t),r=X(n),o=await e.call(r,{utxoValidation:!1});return await R.build(this.functionInvocationScopes,o,this.isMultiCall)}async get(t){return this.dryRun({fundTransaction:!1,...t})}};var v=class extends y{constructor(e,n,r){super(e,!1);this.func=n,this.args=r||[],this.setArguments(...r),super.addCall(this)}getCallConfig(){return{func:this.func,program:this.program,callParameters:this.callParameters,txParameters:this.txParameters,forward:this.forward,args:this.args,bytesOffset:this.transactionRequest.bytesOffset||0}}setArguments(...e){return this.args=e||[],this.updateScriptRequest(),this}callParams(e){return this.callParameters=e,e!=null&&e.forward&&(this.forward=A0(e.forward)),this.setArguments(...this.args),this.updateRequiredCoins(),this}};var S=class extends y{constructor(t,e){super(t,!0),this.addCalls(e)}addCall(t){return super.addCalls([t])}addCalls(t){return super.addCalls(t)}};import{Interface as G}from"@fuel-ts/abi-coder";import{Address as T0}from"@fuel-ts/address";var _=class{constructor(t,e,n){this.functions={};this.interface=e instanceof G?e:new G(e),this.id=T0.fromAddressOrString(t),n&&"provider"in n?(this.provider=n.provider,this.account=n):(this.provider=n,this.account=null),Object.keys(this.interface.functions).forEach(r=>{let o=this.interface.getFunction(r);Object.defineProperty(this.functions,o.name,{value:this.buildFunction(o),writable:!1})})}buildFunction(t){return(...e)=>new v(this,t,e)}multiCall(t){return new S(this,t)}getBalance(t){if(!this.provider)throw new Error("Contract instance has no provider.");return this.provider.getContractBalance(this.id,t)}};export{_ as Contract,g as FunctionInvocationResult,v as FunctionInvocationScope,b as InvocationResult,S as MultiCallInvocationScope,A as ScriptRequest,w as ScriptResultDecoderError,h as assert,N as getDocs};
//# sourceMappingURL=index.mjs.map