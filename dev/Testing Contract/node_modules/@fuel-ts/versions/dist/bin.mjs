#!/usr/bin/env node
import{bold as d,green as R}from"chalk";import G from"cli-table";import{cyan as h,green as v,red as x}from"chalk";var f=o=>{let{version:e,isGt:s,isOk:r}=o;return s?h(e):r?v(e):x(e)};import m from"semver";function F(o){if(o!==void 0){let e=o.toString();if(e!=="true")return e}return"0.0.0"}function l(){return{FUELS:F("0.33.0"),FUEL_CORE:F("0.17.3"),FORC:F("0.35.3")}}function C(o){let{userForcVersion:e,userFuelCoreVersion:s}=o,r=l(),n=m.gt(e,r.FORC),c=m.gt(s,r.FUEL_CORE),p=m.eq(e,r.FORC),t=m.eq(s,r.FUEL_CORE);return{userForcIsGt:n,userFuelCoreIsGt:c,userForcIsEq:p,userFuelCoreIsEq:t}}import*as g from"child_process";var a=g.execSync;function V(o){let{error:e}=console,s,r;try{let n=/[^0-9.]+/g;s=a("forc --version").toString().replace(n,""),r=a("fuel-core --version").toString().replace(n,"")}catch(n){throw e("Make sure you have Forc and Fuel-Core installed."),e(`  ${o.fuelUpLink}`),n}return{userForcVersion:s,userFuelCoreVersion:r}}function E(){let{error:o,info:e}=console,s=l(),r=new G({head:["",d("Supported"),d("Yours / System")]}),n=R("https://github.com/fuellabs/fuelup"),{userForcVersion:c,userFuelCoreVersion:p}=V({fuelUpLink:n}),t=C({userForcVersion:c,userFuelCoreVersion:p}),I=f({version:c,isGt:t.userForcIsGt,isOk:t.userForcIsEq}),S=f({version:p,isGt:t.userFuelCoreIsGt,isOk:t.userFuelCoreIsEq});r.push(["Forc",s.FORC,I]),r.push(["Fuel-Core",s.FUEL_CORE,S]);let O=t.userForcIsGt||t.userFuelCoreIsGt,U=t.userForcIsEq&&t.userFuelCoreIsEq;O?(e("Your system's components are newer than the ones supported!"),e(r.toString()),process.exit(0)):U?(e("You have all the right versions! \u26A1"),e(r.toString()),process.exit(0)):(o("You're using outdated versions \u2014 update them with:"),o(`  ${n}`),o(r.toString()),process.exit(1))}E();
//# sourceMappingURL=bin.mjs.map