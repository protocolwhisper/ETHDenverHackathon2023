"use strict";var p=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var x=Object.prototype.hasOwnProperty;var C=(o,n)=>{for(var e in n)p(o,e,{get:n[e],enumerable:!0})},q=(o,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of L(n))!x.call(o,t)&&t!==e&&p(o,t,{get:()=>n[t],enumerable:!(r=k(n,t))||r.enumerable});return o};var D=o=>q(p({},"__esModule",{value:!0}),o);var B={};C(B,{Predicate:()=>f});module.exports=D(B);var a=require("@ethersproject/bytes"),h=require("@ethersproject/logger"),c=require("@fuel-ts/abi-coder"),l=require("@fuel-ts/address"),A=require("@fuel-ts/providers"),T=require("@fuel-ts/transactions"),R=require("@fuel-ts/versions"),g=require("@fuel-ts/wallet");var i=require("@ethersproject/bytes"),y=require("@fuel-ts/merkle"),d=o=>{let e=[],r=(0,i.arrayify)(o);for(let t=0;t<r.length;t+=8){let s=new Uint8Array(8);s.set(r.slice(t,t+8)),e.push(s)}return(0,y.calcRoot)(e.map(t=>(0,i.hexlify)(t)))};var w=new h.Logger(R.versions.FUELS),f=class extends g.Account{constructor(e,r,t){let s=l.Address.fromB256(d(e));super(s,t);this.predicateData=Uint8Array.from([]);if(this.bytes=(0,a.arrayify)(e),r){this.interface=new c.Interface(r);let u=this.interface.fragments.find(({name:b})=>b==="main");u!==void 0?this.types=u.inputs:w.throwArgumentError('Cannot use ABI without "main" function',"Function fragments",this.interface.fragments)}}populateTransactionPredicateData(e){var t;let r=(0,A.transactionRequestify)(e);return(t=r.inputs)==null||t.forEach(s=>{s.type===T.InputType.Coin&&(0,a.hexlify)(s.owner)===this.address.toB256()&&(s.predicate=this.bytes,s.predicateData=this.predicateData)}),r}sendTransaction(e){let r=this.populateTransactionPredicateData(e);return super.sendTransaction(r)}simulateTransaction(e){let r=this.populateTransactionPredicateData(e);return super.simulateTransaction(r)}setData(...e){let t=new c.AbiCoder().encode(this.types||[],e);return this.predicateData=t,this}};0&&(module.exports={Predicate});
//# sourceMappingURL=index.js.map